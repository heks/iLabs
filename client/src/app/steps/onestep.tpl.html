
<div class="bs-example-home" style="padding-top:0px">
	<div class="row">
		<small class="pull-right"> {{step.order}}/{{number_of_steps}}  </small>
	</div>

	<div class="row">
		<h3 class="text-center" style="text-decoration:underline">{{step.journal_step_title}}</h3>
	</div>

	<markdown ng-model="step.journal_step_content"> </markdown>

	<form name="mainForm">
		<parameters parameters="step.journal_parameter_group.parameters" title="parametertitle" data='data_param' stepdata='{{step.resource_uri}}'> </parameters>

		<questions questions='step.questions' data='data_questions'>
		</questions>
	</form>



	<div ng-if="timerclock">
		<timer countdown="timerclock" interval="1000">
			<div ng-show="countdown > 0" class="well well-sm">
				<h4 style="text-align:center"> Running Experiment </h4>
			  <div class="progress progress-striped active"> 
			    <div class="progress-bar" role="progressbar" style="width: {{ (countdown*100/inittime) | number:0 }}%;"> {{countdown}} </div> 
			  </div>
			</div>		
		</timer>
	</div>

	<div ng-if="waitclock">
		<div class="row" ng-show="waitclock > 0">
			Time left queue:  <timer interval="1000" countdown="waitclock"></timer>
		</div>
	</div>


	<br>
	<button ng-show="step.journal_parameter_group.parameters" type="button" ng-click="doPatchParam()" class="btn btn-primary btn-lg btn-block">Patch</button>
	<br>
	<br>
	<br>



	<div class="table-responsive" ng-if="data">
		<table class="table">
			<thead>
				<tr>
					<th>Distance </th>
					<th ng-repeat="val in data.results[0].result track by $index">Trial {{ $index+1 }}</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="value in data.results track by $index">
					<th> {{value.distance}} </th>
					<td ng-repeat="val in value.result track by $index" >{{val}}</td>
				</tr>

		</table>
 	</div>

	<div ng-if="chart" class="row">
		<canvas class="center-block" chart type="Line" options="options" data="chart" width="350" height="350"></canvas>
	</div>


	<div class="row">
		<div class="col-xs-6">
			<button type="button" ng-disabled="stepnumber==0" ng-click="prevQuestion()" class="btn btn-lg btn-primary btn-block">
			<i class="fa fa-chevron-left fa-lg fa-fw"></i>Back
			</button>
		</div>
		<div class="col-xs-6">
			<button type="button" ng-disabled="mainForm.$invalid" ng-click="nextQuestion()" class="btn btn-lg btn-primary btn-block">
			Next <i class="fa fa-chevron-right fa-lg fa-fw"></i>
			</button>
		</div>
	</div>


	<br>
	<br>
	<br>


<!-- 
	{{step}}
	<br>
	<br>
	<br>

	{{step.journal_parameter_group.parameters}}
	<br>
	<br>
	<br>


	QUESTIONS:
	{{data_questions}}

	<br>
	<br>
	<br>

	PARAMS:
	{{data_param}} -->
</div>
